# PostgreSQL 16.10 optimierte Flyway-Konfiguration für Production Profile
# Diese Konfiguration wurde spezifisch für PostgreSQL 16.10 Kompatibilität erstellt

# Flyway-spezifische Einstellungen für PostgreSQL 16.10
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration
spring.flyway.schemas=public
spring.flyway.table=flyway_schema_history

# PostgreSQL 16.10 spezifische Anpassungen
spring.flyway.postgresql.transactional.lock=false
spring.flyway.validate-on-migrate=true
spring.flyway.out-of-order=false

# Baseline für existierende Datenbank (falls nötig)
spring.flyway.baseline-on-migrate=true
spring.flyway.baseline-version=1.0.0
spring.flyway.baseline-description=Initial PostgreSQL 16.10 setup

# Connection Pool für PostgreSQL 16.10 optimiert 
spring.r2dbc.pool.initial-size=2
spring.r2dbc.pool.max-size=10
spring.r2dbc.pool.validation-query=SELECT 1

# Retry-Logik für PostgreSQL 16.10 Verbindungen
spring.r2dbc.pool.validation-depth=remote