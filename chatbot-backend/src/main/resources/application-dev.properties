# Development Profile - Uses H2 in-memory database

# R2DBC Configuration - H2 In-Memory (Development)
spring.r2dbc.url=r2dbc:h2:mem:///chatbotdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.r2dbc.username=sa
spring.r2dbc.password=
spring.sql.init.mode=never

# R2DBC Connection Pool Configuration
spring.r2dbc.pool.enabled=true
spring.r2dbc.pool.initial-size=2
spring.r2dbc.pool.max-size=5
spring.r2dbc.pool.max-idle-time=30m
spring.r2dbc.pool.max-acquire-time=PT3S
spring.r2dbc.pool.validation-query=SELECT 1

# Flyway Configuration (uses JDBC for migrations, R2DBC for runtime)
spring.flyway.url=jdbc:h2:mem:chatbotdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.flyway.user=sa
spring.flyway.password=
spring.flyway.locations=classpath:db/migration
spring.flyway.baseline-on-migrate=true

# Development specific settings
logging.level.app.chatbot=DEBUG
logging.level.org.springframework.r2dbc=DEBUG
logging.level.io.r2dbc.postgresql.QUERY=DEBUG

# OpenAI Configuration (Development) - Points to LiteLLM proxy (localhost for local dev)
openai.base-url=${OPENAI_RESPONSES_BASE_URL:${OPENAI_BASE_URL:http://localhost:4000/v1}}
openai.api-key=${OPENAI_API_KEY:sk-local-master}
openai.connect-timeout=PT10S
openai.read-timeout=PT3M

# MCP Configuration (Development)
mcp.encryptionKey=dev-32-character-secret-key-here-123456789
mcp.clientName=chatbot-backend-dev
mcp.clientVersion=1.0.0-SNAPSHOT
mcp.requestTimeout=30s
mcp.initializationTimeout=30s
mcp.connectTimeout=10s
mcp.readTimeout=60s

# Health check configuration for development
management.endpoint.health.show-details=always
management.endpoints.web.exposure.include=health,info,metrics
